<!-- <p>LeaderboardFeature works!</p> -->
<div class="min-h-screen bg-slate-950 text-white p-6 pb-32 font-sans">
  <h1 class="text-3xl font-black mb-10 text-center tracking-tight uppercase">
    Classement <span class="text-blue-500">Global</span>
  </h1>

  <!-- PODIUM (Top 3) -->
  <!-- <div class="flex items-end justify-center gap-2 mb-12 h-64">
        
        <div class="flex flex-col items-center flex-1">
          <ql-avatar [pseudo]="store.leaders()[1].pseudo" size="md"></ql-avatar>
          <div class="bg-white/5 border-x border-t border-white/10 w-full h-24 rounded-t-3xl mt-3 flex flex-col items-center justify-center">
            <span class="text-2xl font-bold">2</span>
            <span class="text-[10px] text-gray-400 font-bold uppercase">{{store.leaders()[1].score}} pts</span>
          </div>
        </div>
        
        <div class="flex flex-col items-center flex-1">
          <div class="mb-2 text-2xl animate-bounce">ðŸ‘‘</div>
          <ql-avatar [pseudo]="store.leaders()[0].pseudo" size="lg"></ql-avatar>
          <div class="bg-blue-600 w-full h-36 rounded-t-3xl mt-3 flex flex-col items-center justify-center shadow-2xl shadow-blue-500/40 relative">
            <span class="text-5xl font-black">1</span>
            <span class="text-[10px] text-blue-100 font-black uppercase tracking-tighter">Champion</span>
          </div>
        </div>

        <div class="flex flex-col items-center flex-1">
          <ql-avatar [pseudo]="store.leaders()[2].pseudo" size="md"></ql-avatar>
          <div class="bg-white/5 border-x border-t border-white/10 w-full h-16 rounded-t-3xl mt-3 flex flex-col items-center justify-center">
            <span class="text-2xl font-bold">3</span>
            <span class="text-[10px] text-gray-400 font-bold uppercase">{{store.leaders()[2].score}} pts</span>
          </div>
        </div>
      </div>

      <div class="space-y-3">
        @for (player of store.leaders().slice(3); track player.pseudo) {
          <div class="bg-white/5 border border-white/10 p-4 rounded-2xl flex items-center justify-between hover:bg-white/10 transition-colors">
            <div class="flex items-center gap-4">
              <span class="text-gray-600 font-bold text-sm w-4">#{{$index + 4}}</span>
              <ql-avatar [pseudo]="player.pseudo" size="sm"></ql-avatar>
              <span class="font-bold text-sm tracking-tight">{{player.pseudo}}</span>
            </div>
            <div class="text-right">
                <span class="text-blue-400 font-black">{{player.score}}</span>
                <span class="text-[8px] text-gray-500 block uppercase font-bold tracking-tighter">Points</span>
            </div>
          </div>
        }
      </div> -->
  <!-- Dans ton template, remplace store.leaders() par store.allEntries() -->

  <!-- PODIUM (Top 3) -->
  <div class="flex items-end justify-center gap-2 mb-12 h-64">
    @for (player of store.allEntries().slice(0, 3); track player.pseudo) {
    <div class="flex flex-col items-center flex-1">
      <!-- Si c'est moi, on peut ajouter une petite Ã©toile -->
      <div class="mb-2 text-2xl" [class.animate-bounce]="player.rank === 1">
        {{ player.rank === 1 ? 'ðŸ‘‘' : '' }}
      </div>

      <ql-avatar
        [pseudo]="player.pseudo"
        [size]="player.rank === 1 ? 'lg' : 'md'"
      ></ql-avatar>

      <div
        [class]="'w-full rounded-t-3xl mt-3 flex flex-col items-center justify-center border-x border-t ' + 
            (player.isMe ? 'bg-blue-600 border-blue-400 shadow-lg shadow-blue-500/40' : 'bg-white/5 border-white/10')"
        [style.height.px]="player.rank === 1 ? 140 : player.rank === 2 ? 100 : 80"
      >
        <span class="text-2xl font-black">{{ player.rank }}</span>
        <span class="text-[10px] uppercase font-bold"
          >{{ player.score }} pts</span
        >
      </div>
    </div>
    }
  </div>

  <!-- LISTE DES AUTRES -->
  <div class="space-y-3">
    @for (player of store.allEntries().slice(3); track player.pseudo) {
    <div
      [class]="'p-4 rounded-2xl flex items-center justify-between border transition-all ' + 
        (player.isMe ? 'bg-blue-600/20 border-blue-500 shadow-lg' : 'bg-white/5 border-white/10')"
    >
      <div class="flex items-center gap-4">
        <span
          [class]="player.isMe ? 'text-blue-400' : 'text-gray-600'"
          class="font-bold text-sm w-4"
        >
          #{{ player.rank }}
        </span>
        <ql-avatar [pseudo]="player.pseudo" size="sm"></ql-avatar>
        <span class="font-bold text-sm tracking-tight">
          {{ player.pseudo }} {{ player.isMe ? '(Moi)' : '' }}
        </span>
      </div>
      <span class="text-blue-400 font-black">{{ player.score }}</span>
    </div>
    }
  </div>
</div>
